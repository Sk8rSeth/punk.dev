import"./NZTpNUN0.js";import"./YQ3Gu5IN.js";import{c as T,o as U}from"./DOG8XHmb.js";import{p as V,aK as W,aL as X,a9 as Y,a as Z,a6 as $,c as u,s as L,g as s,m as p,d as h,b as r,t as ee}from"./UeI5gVJZ.js";import{e as d}from"./CgJEj20K.js";import{c as ae,a as m,f as b}from"./RVZA6elv.js";import{i as M}from"./BZu9Va6s.js";import{s as H}from"./GI90yWAE.js";import{s as te}from"./CgaQIovs.js";import{b as K}from"./D_RlC16Q.js";import{i as oe}from"./DfKZw6Tw.js";import{p as C}from"./lcGxVt4e.js";var le=b('<div class="image-modal-loading svelte-13c863o"><div class="loading-spinner svelte-13c863o"></div> <p class="svelte-13c863o">Loading image...</p></div>'),se=b('<div class="image-modal-error punkcard svelte-13c863o"><div class="punkcard-content svelte-13c863o"><p class="svelte-13c863o">Failed to load image</p> <button class="error-close-btn svelte-13c863o">Close</button></div></div>'),re=b("<img/>"),ne=b('<div class="image-modal-backdrop svelte-13c863o" role="dialog" tabindex="5" aria-modal="true" aria-label="Enlarged image view"><button class="image-modal-close punkcard svelte-13c863o" aria-label="Close image modal"><div class="punkcard-content svelte-13c863o"><span class="close-icon svelte-13c863o">âœ•</span></div></button> <div class="image-modal-content svelte-13c863o"><!> <!></div></div>');function Ie(o,e){V(e,!1);const E=T();let k=C(e,"src",8,""),B=C(e,"alt",8,""),v=C(e,"show",12,!1),w=p(),A=p(),f=p(!0),y=p(!1);function I(l){l.key==="Escape"&&g()}function F(l){l.target===s(w)&&g()}function g(){v(!1),E("close")}function P(){r(f,!1),r(y,!1)}function j(){r(f,!1),r(y,!0)}U(()=>()=>{document.body.style.overflow="",document.removeEventListener("keydown",I)}),W(()=>$(v()),()=>{v()?(document.body.style.overflow="hidden",document.addEventListener("keydown",I)):(document.body.style.overflow="",document.removeEventListener("keydown",I))}),X(),oe();var S=ae(),G=Y(S);{var J=l=>{var n=ne(),D=u(n),q=L(D,2),x=u(q);{var N=t=>{var a=le();m(t,a)};M(x,t=>{s(f)&&t(N)})}var O=L(x,2);{var Q=t=>{var a=se(),c=u(a),i=L(u(c),2);h(c),h(a),d("click",i,g),m(t,a)},R=t=>{var a=re();let c;K(a,i=>r(A,i),()=>s(A)),ee(i=>{H(a,"src",k()),H(a,"alt",B()),c=te(a,1,"image-modal-img svelte-13c863o",null,c,i)},[()=>({loaded:!s(f)})]),d("load",a,P),d("error",a,j),m(t,a)};M(O,t=>{s(y)?t(Q):t(R,!1)})}h(q),h(n),K(n,t=>r(w,t),()=>s(w)),d("click",D,g),d("click",n,F),m(l,n)};M(G,l=>{v()&&l(J)})}m(o,S),Z()}let _={show:!1,src:"",alt:""};function Le(){me(),ce()}function ce(){ie(),document.querySelectorAll("img.enlarge").forEach(e=>{e.addEventListener("click",z),e.style.cursor="pointer",e.setAttribute("title","Click to enlarge"),e.complete||e.addEventListener("load",()=>{e.style.cursor="pointer"}),e.dataset.enlargementAttached="true"})}function ie(){document.querySelectorAll('img[data-enlargement-attached="true"]').forEach(e=>{e.removeEventListener("click",z),e.removeAttribute("data-enlargement-attached")})}function z(o){const e=o.target;o.preventDefault(),o.stopPropagation();const E=e.dataset.enlargeSrc||e.src,k=e.alt||"Enlarged image";de(E,k)}function de(o,e){_={show:!0,src:o,alt:e},document.dispatchEvent(new CustomEvent("showImageModal",{detail:_}))}function me(){document.addEventListener("showImageModal",o=>{_=o.detail}),document.addEventListener("closeImageModal",()=>{_.show=!1})}export{Ie as I,ce as a,Le as i};
